MAIN:
clc, clearvars, close all

%Define parameters
%A=mxn or 7x7. x=nx1 or 7x1
A = rand(7,7);
x = rand(7,1);

tic
bNoFun = A*x
timeNoFun = toc;

tic
bWithFun = AxFun(A,x);
timeWithFun = toc;

bWithFun



if bWithFun~=bNoFun
    error("Function does NOT work, ending now")
end


disp("Depening on how you want to count, and using m = m_A and n=n_A=m_x=length of x, " + ...
    "the ammount of FLOPS is 2nm-m OR 2nm (if you want to count adding by 0 in the very first instance of enetering the inner loop each time)")

fprintf('Built-in time: %.6f seconds\nCustom function time: %.6f seconds\nCUSTOM WINS', timeNoFun, timeWithFun);










FUNCTION:
function [b] = AxFun(A, x)

%Get # of rows and cols of A
[m_A,n_A] = size(A);

%Get # of rows of x
m_x = length(x);

%Check if rows of x = cols of A
if m_x ~= n_A
    error("Multipcation is NOT possible. Ending program");
end
    
% Initialize output vector as 7x1
b = zeros(m_A, 1);

% Perform matrix-vector multiplication using 2 nested loops
for i = 1:m_A

    for j = 1:n_A %NOTE: x(j) works since n_A=m_x
        b(i) = b(i) + A(i,j)*x(j);
    end
   
end



end
